<!DOCTYPE html>
<html lang="en">
	<head>
		<link href='http://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Share+Tech' rel='stylesheet' type='text/css'>
		<title>TechWizard Homepage</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="bootstrap/css/bootstrap.min.css" rel = "stylesheet" media="screen">
		<link href="stylesheet.css" rel = "stylesheet" media="screen">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	    <script src="bootstrap/js/bootstrap.min.js"></script>
	    <script src="js/index.js"></script>
	    <script src="js/jquery.watermark.js"></script>
	    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
	    <script type="text/javascript">
			function toggleThings(tog) {
				if ($(tog).is(":hidden")) {
					$(".subcat").hide("fast");
					$(tog).toggle('fast');	}
				else { $(".subcat").hide("fast"); }
				}
				
				

		
			
			/*
			//create the giant html mess for the tutorial list


			*/
			
			
		</script>
		
		<script>
		$(document).ready(function() {
		
			//get category var passed in url
			function getUrlVars() {
				var vars = {};
				var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
					vars[key] = value;
				});
				return vars;
			}
			var cat = getUrlVars()["cat"];
			//var cat = "cat2";
			
			
		
		
		
			//iterate through all of the outer categories
				//check if there's something from the database to put in it, else remove
			//same for inner categories
			$.getJSON('content/database'+cat+'.json', function(data) {
			
			//
			
				var hugehtml = [];
				
				var val = data[cat];
				
				
				largeiter = 1;
				$.each(val, function(subkey,subval){


					info = val[subkey];
					//0 etc
					//objects
					//alert(info);
					//alert(info.tutorialid);
					//alert(info.subcatname);
					hugehtml.push(info.subcatname);
					smallhtml = [];
					smalliter = 1;
					
					largepushid = "category"+largeiter.toString();
					document.getElementById(largepushid).innerHTML = info.subcatname;

					$.each(info.tutnames, function(tutkey,tutval){
						
						smallpushid = "tut"+largeiter.toString()+smalliter.toString();
						document.getElementById(smallpushid).innerHTML = tutval;						
						document.getElementById("a11").setAttribute("href", "tutorials/"+tutkey+".shtml");						
						smalliter = smalliter+1;
					})
					
					//get rid of empty tutorials
					alltutorials = ["tut"+largeiter.toString()+"1", "tut"+largeiter.toString()+"2", "tut"+largeiter.toString()+"3", "tut"+largeiter.toString()+"4"];
					$.each(alltutorials, function(index, value) {
						if (document.getElementById(value).innerHTML == ""){
							element = document.getElementById(value);
							element.parentNode.removeChild(element);
						}
					})
					
					
					largeiter = largeiter+1;
					
					
					
				});
				
				
				//get rid of empty tutorial categories
				categories = ["category1", "category2", "category3", "category4"];
				$.each(categories, function(index, value) {
					if (document.getElementById(value).innerHTML == ""){
						element = document.getElementById(value);
						element.parentNode.removeChild(element);
					}
				})
				
				//alert(hugehtml.join(""));
				//finalhtml = hugehtml.join("");
				//alert(finalhtml);
				//document.getElementById('category123').innerHTML = finalhtml;	
				
				});
		
		
		});
		</script>
		
		
		
		
	</head>
	<body>
		
		
		<div class="container">
			<div class="navbar">
			<div class="navbar-inner">
			<!--icon from iconfinder.com, by IconEden-->
			<a class="brand" href="index.html"><img src="img/wizard.png" id="header-icon"/>TechWizard</a>
			</div>
			</div>
			<div class = "boxydiv bordered">
			<div><h3>What do you want to learn about?</h3></div>
			<div class = "row">
				<div class = "span7">
					<div class="row"><div class="offset1 span6">
							<button id = "category1" class = "btn btn-primary tutorial-category" onclick = 'toggleThings("#category1-tutorials")'></button>
							
						</div></div>
						<div id="category1-tutorials" class = "togglable subcat" hidden="true">
						<div class="row"><div class="offset1 span5">
							<a id = "a11" href="tutorial/addresses.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut11"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/clients.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut12"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/clients.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut13"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/clients.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut14"></button>
							</a>
						</div></div>
					</div>
					<div class="row"><div class="offset1 span6">
					<button id = "category2" class = "btn btn-primary tutorial-category" onclick = 'toggleThings("#category2-tutorials")'></button>
					</div></div>
					<div id="category2-tutorials" class = "togglable subcat" hidden="true">
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut21"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut22"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut23"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/ccbcc.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut24"></button>
							</a>
						</div></div>
					</div>
					
					<div class="row"><div class="offset1 span6">
					<button id = "category3" class = "btn btn-primary tutorial-category" onclick = 'toggleThings("#category3-tutorials")'></button>
					</div></div>
					<div id="category3-tutorials" class = "togglable subcat" hidden="true">
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut31"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut32"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut33"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut34"></button>
							</a>
						</div></div>
					</div>
					
					<div class="row"><div class="offset1 span6">
					<button id = "category4" class = "btn btn-primary tutorial-category" onclick = 'toggleThings("#category4-tutorials")'></button>
					</div></div>
					<div id="category4-tutorials" class = "togglable subcat" hidden="true">
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut41"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut42"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut43"></button>
							</a>
						</div></div>
						<div class="row"><div class="offset1 span5">
							<a href="tutorials/writing-new-email.shtml">
							<button class = "btn btn-info tutorial-category" id = "tut44"></button>
							</a>
						</div></div>
					</div>
					<br/>
					<div class="span4">
					<a href="index.html">
					<button class="btn btn-success donebtn">Back to <img src="img/wizard.png" class="btn-icon"/> 
											<span style="font-family:'Share Tech';font-size:22px;font-weight:bold">TechWizard</span> Home</button>
					</a>
					</div>
				</div>
				<div class="span4">
					<div class="row">
						<div class="span3 offset1">
						<div class="sidebar bordered">
							<h4>Did you know?</h4>
							Email was invented by Atilla the Hun.<br/>
							Gmail is the most popular webmail client.<br/>
							Hotmail.com used to be hotmale.com, but a pornographic
							company sued them over the name.<br/>
							2 out of 4 of these facts are true!
							
							<br/>
							
							
						</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</body>
</html>
